!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).localit={})}(this,(function(e){"use strict";let t="",o=localStorage;const n=e=>`${t}_${e}`,s=e=>{const t=new Date,o={h:e=>t.setHours(t.getHours()+e),d:e=>t.setDate(t.getDate()+e),m:e=>t.setMinutes(t.getMinutes()+e),s:e=>t.setSeconds(t.getSeconds()+e)},n=Object.keys(o),s=e[e.length-1],a=Number(e.replace(s,""));if(!(e.length<2||!n.some((e=>s===e))||isNaN(a)))return o[s](a);console.warn("Localit: provide a valid expiration time format (e.g. '20h', '160s', '15d'). Your expiration date hasn't been saved.")},a=e=>{var t;const s=JSON.parse(o.getItem(n(e)));return(null==(t=null==s?void 0:s.meta)?void 0:t.expiresAt)&&(a=s.meta.expiresAt,new Date>new Date(a))?(l(e),null):(null==s?void 0:s.value)||null;var a},l=e=>{o.removeItem(n(e))},r={config:({domain:e=null,type:n="localStorage"})=>{o="localStorage"===n?localStorage:sessionStorage,t=e||""},set:(e,t,a)=>{if(!e)return console.error("Localit: provide a key to store the value");const l={value:t,meta:{expiresAt:a&&s(a)}};o.setItem(n(e),JSON.stringify(l))},get:a,remove:l,getAndRemove:e=>{const t=a(e);return l(e),t},setDomain:e=>{t=e},clearDomain:(e=t)=>{for(const t of Object.keys(o))t.includes(`${e}_`)&&o.removeItem(t)},bust:()=>o.clear()};e.localit=r,Object.defineProperty(e,"__esModule",{value:!0})}));
