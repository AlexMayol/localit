!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).localit={})}(this,(function(e){"use strict";let t="",o=localStorage;const n=e=>`${t}_${e}`,a=e=>{const t=new Date,o={h:e=>t.setHours(t.getHours()+e),d:e=>t.setDate(t.getDate()+e),m:e=>t.setMinutes(t.getMinutes()+e),s:e=>t.setSeconds(t.getSeconds()+e)},n=Object.keys(o),a=e[e.length-1],s=Number(e.replace(a,""));if(!(e.length<2||!n.some((e=>a===e))||isNaN(s)))return o[a](s);console.warn("Localit: provide a valid expiration time format (e.g. '20h', '160s', '15d'). Your expiration date hasn't been saved.")},s=e=>{var t;const a=JSON.parse(o.getItem(n(e)));return(null==(t=null==a?void 0:a.meta)?void 0:t.expiresAt)&&(s=a.meta.expiresAt,new Date>new Date(s))?(r(e),null):(null==a?void 0:a.value)||null;var s},r=e=>{o.removeItem(n(e))},l={config:({domain:e=null,type:n="localStorage"})=>{o="localStorage"===n?localStorage:sessionStorage,t=e||""},set:(e,t,s)=>{if(!e)return console.error("Localit: provide a key to store the value");const r={value:t,meta:{createdAt:(new Date).getTime(),expiresAt:s&&a(s)}};o.setItem(n(e),JSON.stringify(r))},get:s,remove:r,getAndRemove:e=>{const t=s(e);return r(e),t},setDomain:e=>{t=e},clearDomain:(e=t)=>{for(const t of Object.keys(o))t.includes(`${e}_`)&&o.removeItem(t)},bust:()=>o.clear()};e.localit=l,Object.defineProperty(e,"__esModule",{value:!0})}));
