(()=>{var a="",l="_expiration_date",s=localStorage,o=t=>`${a}${t}`,g=(t,e)=>{if(!["h","d","m","s"].some(i=>e.includes(i)))return console.warn("Localit: provide a valid expiration time format (e.g. '20h', '160s', '15d'). Your expiration date hasn't been saved.");let r=new Date,n=0;e.includes("s")&&(n=+e.replace("s",""),r.setSeconds(r.getSeconds()+n)),e.includes("m")&&(n=+e.replace("m",""),r.setMinutes(r.getMinutes()+n)),e.includes("h")&&(n=+e.replace("h",""),r.setHours(r.getHours()+n)),e.includes("d")&&(n=+e.replace("d",""),r.setDate(r.getDate()+n)),s.setItem(`${o(t)}${l}`,JSON.stringify(r))},d=t=>s.getItem(`${o(t)}${l}`)!==null,u=t=>{let e=JSON.parse(s.getItem(`${o(t)}${l}`)||"null");return new Date>new Date(e)},f={config({type:t="localStorage",domain:e=a}){s=t==="localStorage"?localStorage:sessionStorage,e!==""?a=`${e}_`:a=e},set(t,e,c){if(!t)return console.error("Localit: provide a key to store a value");typeof e=="object"&&(e=JSON.stringify(e)),s.setItem(o(t),e),c&&g(t,c)},get(t){return d(t)&&u(t)?(this.remove(t),null):JSON.parse(s.getItem(o(t))||"null")},remove(t){s.removeItem(o(t)),s.removeItem(`${o(t)}${l}`)},setDomain(t){a=`${t}_`},clearDomain(t=a){for(let e of Object.keys(s))e.includes(`${t}_`)&&s.removeItem(e)},bust(){s.clear()}};})();
