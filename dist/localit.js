!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).localit={})}(this,(function(e){"use strict";let t="";let o=localStorage;const n=e=>`${t}_${e}`,r=e=>`${n(e)}_expiration_date`,s=e=>{if((e=>null!==o.getItem(r(e)))(e)&&(e=>{const t=JSON.parse(o.getItem(r(e)));return new Date>new Date(t)})(e))return a(e),null;try{return JSON.parse(o.getItem(n(e)))}catch(t){return o.getItem(n(e))}},a=e=>{o.removeItem(n(e)),o.removeItem(r(e))},i={config:({domain:e=null,type:n="localStorage"})=>{o="localStorage"===n?localStorage:sessionStorage,t=e||""},set:(e,t,s)=>{if(!e)return console.error("Localit: provide a key to store the value");"object"==typeof t&&(t=JSON.stringify(t)),o.setItem(n(e),t),s&&((e,t)=>{const n=new Date,s={h:e=>n.setHours(n.getHours()+e),d:e=>n.setDate(n.getDate()+e),m:e=>n.setMinutes(n.getMinutes()+e),s:e=>n.setSeconds(n.getSeconds()+e)},a=Object.keys(s),i=t[t.length-1],l=Number(t.replace(i,""));if(t.length<2||!a.some((e=>i===e))||isNaN(l))return console.warn("Localit: provide a valid expiration time format (e.g. '20h', '160s', '15d'). Your expiration date hasn't been saved.");o.setItem(r(e),JSON.stringify(s[i](l)))})(e,s)},get:s,remove:a,getAndRemove:e=>{const t=s(e);return a(e),t},setDomain:e=>{t=e},clearDomain:(e=t)=>{for(const t of Object.keys(o))t.includes(`${e}_`)&&o.removeItem(t)},bust:()=>o.clear()};e.localit=i,Object.defineProperty(e,"__esModule",{value:!0})}));
