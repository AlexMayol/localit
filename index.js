(function () {var b={};function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var r=0;r<e.length;r++){var a=e[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function g(t,e,r){return e&&c(t.prototype,e),r&&c(t,r),t}var h=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"localStorage";f(this,t),this.store="localStorage"==r?localStorage:sessionStorage,this.DOMAIN=e?"".concat(e,"_"):"",this.EXPIRE="_expiration_date"}return g(t,[{key:"set",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;"object"==d(e)&&(e=JSON.stringify(e)),this.store.setItem("".concat(this.getFullKey(t)),e),r&&this.setExpiration(t,r)}},{key:"setExpiration",value:function(t,e){if(e.includes("h")||e.includes("d")){var r=new Date;if(e.includes("h")){var a=parseInt(e.replace("h",""));r.setHours(r.getHours()+a)}if(e.includes("d")){var o=parseInt(e.replace("d",""));r.setDate(r.getDate()+o)}this.store.setItem("".concat(this.getFullKey(t)).concat(this.EXPIRE),JSON.stringify(r))}}},{key:"get",value:function(t){if(this.hasExpirationDate(this.getFullKey(t))&&this.hasExpired(this.getFullKey(t)))return this.store.remove(t),null;try{return JSON.parse(this.store.getItem(this.getFullKey(t)))}catch(e){return this.store.getItem(this.getFullKey(t))}}},{key:"remove",value:function(t){this.store.removeItem(this.getFullKey(t)),this.store.removeItem("".concat(this.getFullKey(t)).concat(this.EXPIRE))}},{key:"setDomain",value:function(t){this.DOMAIN="".concat(t,"_")}},{key:"clearDomain",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.DOMAIN,e=0,r=Object.keys(localStorage);e<r.length;e++){var a=r[e];a.includes(t)&&this.store.removeItem(a)}}},{key:"hasExpirationDate",value:function(t){return null!==this.store.getItem("".concat(this.getFullKey(t)).concat(this.EXPIRE))}},{key:"hasExpired",value:function(t){var e=JSON.parse(this.store.getItem("".concat(this.getFullKey(t)).concat(this.EXPIRE)));return new Date>new Date(e)}},{key:"getFullKey",value:function(t){return"".concat(this.DOMAIN).concat(t)}},{key:"bust",value:function(){this.store.clear()}}]),t}();b.Localit=h;if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=b}else if(typeof define==="function"&&define.amd){define(function(){return b})}})();